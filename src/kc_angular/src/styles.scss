/*!
 * Copyright (c) 2022-2024 Rob Royce
 *
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License.
 */

@import "styles/kc-styles";
@import '../../../node_modules/primeflex/primeflex.min.css';
@import '../../../node_modules/primeicons/primeicons.css';
@import '../../../node_modules/primeng/resources/primeng.min.css';


* {
  font-size: 13px;
}

html, body {
  height: 100%;
}

body {
  margin: 0;
  display: flex;
  flex-direction: column;

  //Use PrimeNG theme for body background, font, and color
  background-color: var(--surface-a);
  font-family: var(--font-family);
  color: var(--text-color);
}

app-home, app-data-view, app-projects, app-chat {
  display: flex;
  flex-direction: row;
  flex-wrap: nowrap;
  align-content: center;
  justify-content: center;
  align-items: center;
  width: 100%;
  height: 100%;
  background-color: var(--surface-ground) !important;
}

app-chat-view {
  justify-content: center !important;
  display: flex !important;
}

app-details {
  display: flex;
  flex-direction: column;
  height: 100vh !important;
  background-color: var(--surface-ground) !important;
}

app-projects-tree {
  height: 100%;
}

app-ks-ingest {
  flex-basis: 25%;
}

.app-splitter-container {
  max-width: min(100%, 140rem);
  border: none;

  .app-splitter-left {
    min-width: min(100%, 20rem);
    height: 100%;
    flex-basis: 20%;
    border-right-width: 1px !important;
    border-right-style: solid;
    border-color: var(--surface-border) !important;
  }

  .app-splitter-divider {
    width: 0.5rem;
    border-width: 1px !important;
    background-color: var(--surface-a);
  }

  .app-splitter-right {
    display: flex;
    height: 100%;
    flex-basis: 80%;
  }
}

.ks-description > p > img {
  max-width: 48rem;
}

.knowledge-logo {
  height: 8rem;
}


// Remove margin from top and bottom of ul eles
.ks-description > ul,
.message-text > ul,
.ks-description > ol,
.message-text > ol {
  margin: 0 !important;
}

// Remove margin and padding from <p> tags inside ks-description and message-text elements
.ks-description > p,
.message-text > p,
.ks-description > ul > li > p,
.ks-description > ol > li > p,
.message-text > ul > li > p,
.message-text > ol > li > p {
  padding: unset;
  margin: unset;
}

.message-text > h1,
.ks-description > h1 {
  font-size: 1.5rem;
  font-weight: 500;
  margin: 0.5rem 0;
}

.message-text > h2,
.ks-description > h2 {
  font-size: 1.25rem;
  font-weight: 500;
  margin: 0.5rem 0;
}

.message-text > h3,
.ks-description > h4 {
  font-size: 1.125rem;
  font-weight: 500;
  margin: 0.5rem 0;
}

.message-text > h4,
.ks-description > h4 {
  font-size: 1rem;
  font-weight: 500;
  margin: 0.5rem 0;
}

.message-text > h5,
.ks-description > h5 {
  font-size: 0.875rem;
  font-weight: 500;
  margin: 0.5rem 0;
}

.user-message {
  background-color: var(--primary-color) !important;
  color: var(--primary-color-text) !important;
  border-radius: 10px;
  padding: 0 10px 0 10px;
  margin: 0.5rem;
  text-align: right;
}

.agent-message {
  color: var(--primary-color) !important;
  background-color: var(--primary-color-text) !important;
  border-radius: 10px;
  padding: 0 10px 0 10px;
  margin: 1.5rem;
  text-align: left;
}

.next-question-suggestion:hover {
  opacity: 1 !important;
}

.html2canvas-container {
  width: 3000px !important;
  height: 3000px !important;
}

.chat-history-active {
  // If the command bar is active, make the chat history slightly opaque and transparent
  opacity: 0.5;
  background-color: var(--surface-ground);

  // Make it blurry
  filter: blur(5px);
}

.topic-markdown {
  background-color: var(--surface-ground);
  color: var(--primary-color);
  border-radius: 6px;
  font-weight: bold;
  padding: 0.1rem 0.5rem;
  margin: 0.1rem 0.1rem;
}

.highlight-selector-lightblue {
  background-color: lightskyblue !important;
  color: lightskyblue !important;
}

.highlight-selector-green {
  background-color: lightgreen !important;
  color: lightgreen !important;
}

.highlight-selector-red {
  background-color: orangered !important;
  color: orangered !important;
}

.highlight-selector-yellow {
  background-color: yellow !important;
  color: yellow !important;
}

.highlight-lightblue {
  background-color: lightskyblue !important;
}

.highlight-green {
  background-color: lightgreen !important;
}

.highlight-red {
  background-color: orangered !important;
}

.highlight-yellow {
  background-color: yellow !important;
}

.indicator {
  background-color: var(--surface-hover);
  position: relative;
  z-index: 99999999 !important;
}

.indicator__cta {
  top: -20px;
  left: 50%;
  position: relative;
  z-index: 99999999 !important;
}

@media (min-width: 140rem) {
  .app-splitter-container {
    border-color: var(--primary-color-text) !important;
    border-left-width: 1px;
    border-right-width: 1px;
    border-left-style: solid;
    border-right-style: solid;
  }
}

.width-constrained {
  max-width: min(100%, 140rem) !important;
}


/*********************************************/
/********************** Convenience Classes */
/*******************************************/
.flex-row-center-between {
  display: flex;
  flex-direction: row;
  flex-wrap: nowrap;
  align-content: center;
  justify-content: space-between;
  align-items: center;
}

.flex-col-between {
  display: flex;
  flex-direction: column;
  flex-wrap: nowrap;
  justify-content: space-between;
}

.flex-row-center-start {
  display: flex;
  flex-direction: row;
  flex-wrap: nowrap;
  align-content: center;
  justify-content: flex-start;
  align-items: center;
}

.flex-row-center-center {
  display: flex;
  flex-direction: row;
  flex-wrap: nowrap;
  align-content: center;
  justify-content: center;
  align-items: center;
}

.flex-row-center-end {
  display: flex;
  flex-direction: row;
  flex-wrap: nowrap;
  align-content: center;
  justify-content: flex-end;
  align-items: center;
}

.flex-col-center-between {
  display: flex;
  flex-direction: column;
  flex-wrap: nowrap;
  align-content: center;
  justify-content: space-between;
  align-items: center;
}

.flex-col-center-center {
  display: flex;
  flex-direction: column;
  flex-wrap: nowrap;
  align-content: center;
  justify-content: center;
  align-items: center;
}

.flex-col-center-start {
  display: flex;
  flex-direction: column;
  flex-wrap: nowrap;
  align-content: center;
  justify-content: flex-start;
  align-items: center;
}

.fill-space {
  flex: 1 1 auto;
}

.no-select, input[type=range],
input[type=range] + .thumb {
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.circle {
  border-radius: 50%;
}

.center-block {
  display: block;
  margin-left: auto;
  margin-right: auto;
}

.truncate {
  display: block;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.no-padding {
  padding: 0 !important;
}

.no-margin {
  margin: 0 !important;
}


.ks-thumbnail {
  max-width: min(100%, 52rem);
  max-height: min(200px, 32rem);
}

source-metadata {
  align-items: center !important;
}

/*********************************************/
/******************* Prime NG Customization */
/*******************************************/
.p-tooltip-sm .p-tooltip-text {
  min-width: 16rem !important;
}

.p-tooltip-md .p-tooltip-text {
  min-width: 24rem !important;
}

.p-tooltip-lg .p-tooltip-text {
  min-width: 32rem !important;
}

.p-tabview-panels {
  height: calc(100% - 40px) !important;
  padding: 0;
}


// Animations
.icon-rotate-animation {
  animation: icon-rotate-animation 1s cubic-bezier(0.250, 0.460, 0.450, 0.940) both;
}

@keyframes icon-rotate-animation {
  0% {
    transform: rotate(45deg);
    opacity: 0;
  }
  100% {
    transform: rotate(0);
    opacity: 1;
  }
}


// Source Styles
@import "primeflex/primeflex";

source-chat, source-details, source-document, source-metadata, source-timeline, source-video {
  display: flex !important;
  flex-direction: column !important;
  height: 100% !important;
  width: 100% !important;
  overflow: auto !important;
  max-height: 100% !important;
  @include styleclass('surface-hover fadein');
}

.source-header {
  @include styleclass('w-full flex flex-wrap p-2 max-h-full');

  .source-header-div {
    @include styleclass('flex flex-column max-h-full w-full');

    .source-thumbnail {
      @include styleclass('w-full flex flex-column flex-auto');
    }

    .source-actions {
      @include styleclass('flex flex-row flex-auto w-full flex-grow-0');
    }

    .source-form {
      @include styleclass('w-full');
    }

    .source-due-date {
      @include styleclass('w-full');
    }

    .source-description {
      @include styleclass('flex-1 p-2 border-round-2xl surface-card');

      .source-description-container {
        @include styleclass('col-12 w-full h-full');
        max-width: 100% !important;
        max-height: 50vh !important;
        min-height: 10rem !important;
      }
    }
  }
}

.source-model {
  @include styleclass('w-full flex col-12 flex-wrap flex-column');
}

.source-youtube-player {
  @include styleclass('w-full h-full');
}

.source-metadata, .source-notes {
  @include styleclass('w-full flex flex-wrap p-2 max-h-full');
}

.title-bar {
  -webkit-user-select: none;
  -webkit-app-region: drag;
}

.title-bar-interactive {
  -webkit-app-region: no-drag;
}
