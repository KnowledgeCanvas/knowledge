<p-panel>
  <ng-template pTemplate="header">
    {{kcProject.name}}
  </ng-template>

  <ng-template pTemplate="icons">
    <button pButton class="p-panel-header-icon p-link" icon="pi pi-pencil"
            pTooltip="Edit {{kcProject.name}}"
            (click)="onEditProject.emit(kcProject.id)">
    </button>
    <button pButton class="p-panel-header-icon p-link" icon="pi pi-plus-circle"
            pTooltip="Add a subproject"
            (click)="onAddSubproject.emit(kcProject.id)">
    </button>
    <button pButton class="p-panel-header-icon p-link" icon="pi pi-arrow-circle-right"
            pTooltip="Goto {{kcProject.name}}"
            (click)="onNavigateToProject.emit(kcProject.id)">
    </button>
  </ng-template>

  <ng-template pTemplate="content">
    <div>
      <b>Project Type:</b> {{kcProject.type || 'Default' | titlecase}}<br>
      <b>Date Created:</b> {{kcProject.dateCreated | date:'medium'}}<br>
      <b>Last Modified:</b> {{kcProject.dateModified | date:'medium'}}<br>
      <b>Last Accessed:</b> {{kcProject.dateAccessed | date:'medium'}}<br>
    </div>
    <div *ngIf="kcProject.topics.length">
      <b>Topics:</b>
      <ul style="max-height: 128px; overflow: scroll">
        <li *ngFor="let topic of kcProject.topics">
          {{topic}}
        </li>
      </ul>
    </div>
    <div *ngIf="!kcProject.topics.length">
      <b>Topics:</b> None
    </div>
    <div>
      <b>Knowledge Sources:</b> {{kcProject.knowledgeSource.length ?? 0}}<br>
      <b>Subprojects: </b> {{kcProject.subprojects.length}}
    </div>
    <b>Description:</b>
    <div style="max-height: 200px; overflow: scroll">
      {{kcProject.description || 'None'}}<br>
    </div>
  </ng-template>

  <ng-template pTemplate="footer">
    <h4>Subprojects</h4>
    <div style="max-height: 180px; overflow: scroll">
          <span *ngFor="let subproject of kcProject.subprojects" class="flex-row-center-between">
            {{subproject | projectName}}
            <button pButton icon="pi pi-arrow-circle-right"
                    class="p-button-rounded p-button-text"
                    pTooltip="Goto {{subproject | projectName}}"
                    (click)="navigate(subproject)">
            </button>
          </span>
      <span *ngIf="!kcProject.subprojects.length">
            None
          </span>
    </div>
  </ng-template>
</p-panel>
